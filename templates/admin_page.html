<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class = "corner_links">
        <a href="/"> Homepage </a>
    </div>
    <br> <br>
    {% with message = get_flashed_messages() %}
    {% if message %}
        <h2 class ="error"> {{ message }} </h2> 
    {% endif %}
    {% endwith %}
    <h2 class = "admin_panel">
        {{ first_name }}'s Admin Panel
        </h2>
    {% with events = events %}
    {% if events %}
    <div class="table_container">
    <table>
        <tr>
            <th>Host</th>
            <th>Event</th>
            <th>Address</th>
            <th>Date</th>
            <th>Actions</th>
        </tr>
        {% for event in events %}
            <tr>
                <td> {{ event.host }} </td>
                <td> {{ event.event_type }} </td>
                <td>
                    <a href="https://www.google.com/maps/search/{{ event.address | urlencode }}" 
                    target="_blank" class="insta_link"> {{ event.address }}
                    </a>
                </td>
                <td> {{ event.date.strftime('%d.%m') }} </td>
                <td> 
                    <form action="{{ url_for('main.delete_event_by_id', id=event.id) }}" method="POST">
                        <button type="submit" class="delete_button"> X </button>
                    </form>      
                </td>
            </tr>
        {% endfor %}
    </table>
    </div>
    {% endif %}
    {% endwith %}
    <br> <br> <br> <br>
    <a href='/new_event'> 
        <button class="button3"> Add </button>
    </a>
</body>

